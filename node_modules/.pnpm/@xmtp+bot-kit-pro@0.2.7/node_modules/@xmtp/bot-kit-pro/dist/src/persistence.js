import { findValue, setValue } from "./db/index.js";
export class PostgresPersistence {
    constructor(db) {
        this.db = db;
    }
    async getItem(key) {
        const value = await findValue(this.db, key);
        if (!value) {
            return null;
        }
        return new Uint8Array(value.buffer, value.byteOffset, value.byteLength);
    }
    async setItem(key, value) {
        await setValue(this.db, key, Buffer.from(value));
    }
}
//# sourceMappingURL=persistence.js.map